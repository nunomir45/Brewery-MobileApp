using Brewery.Core.Services.Implementations.Business;
using Brewery.Core.Services.Interfaces.WebService;
using Brewery.Core.Services.Interfaces.WebService.BreweryWebServices;
using Moq;
using DTOs = Brewery.Core.Services.Interfaces.WebService.BreweryWebServices.DTOs;

namespace Brewery.Core.Tests.Services;

[TestClass]
public class BreweryServiceTests
{
    private BreweryService _breweryService;
    private Mock<IListBreweriesRequest> _mockListBreweriesRequest;

    [TestInitialize]
    public void Setup()
    {
        _mockListBreweriesRequest = new Mock<IListBreweriesRequest>();
        _breweryService = new BreweryService(_mockListBreweriesRequest.Object);
    }

    [TestMethod]
    public async Task LoadBreweries_ShouldPopulateBreweriesList()
    {
        // Arrange
        var mockResponse = new Response<DTOs.ListBreweriesOutput>(new DTOs.ListBreweriesOutput(
            "[\n  {\n    \"id\": \"5128df48-79fc-4f0f-8b52-d06be54d0cec\",\n    \"name\": \"(405) Brewing Co\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"1716 Topeka St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Norman\",\n    \"state_province\": \"Oklahoma\",\n    \"postal_code\": \"73069-8224\",\n    \"country\": \"United States\",\n    \"longitude\": \"-97.46818222\",\n    \"latitude\": \"35.25738891\",\n    \"phone\": \"4058160490\",\n    \"website_url\": \"http://www.405brewing.com\",\n    \"state\": \"Oklahoma\",\n    \"street\": \"1716 Topeka St\"\n  },\n  {\n    \"id\": \"9c5a66c8-cc13-416f-a5d9-0a769c87d318\",\n    \"name\": \"(512) Brewing Co\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"407 Radam Ln Ste F200\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Austin\",\n    \"state_province\": \"Texas\",\n    \"postal_code\": \"78745-1197\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"5129211545\",\n    \"website_url\": \"http://www.512brewing.com\",\n    \"state\": \"Texas\",\n    \"street\": \"407 Radam Ln Ste F200\"\n  },\n  {\n    \"id\": \"34e8c68b-6146-453f-a4b9-1f6cd99a5ada\",\n    \"name\": \"1 of Us Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"8100 Washington Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Mount Pleasant\",\n    \"state_province\": \"Wisconsin\",\n    \"postal_code\": \"53406-3920\",\n    \"country\": \"United States\",\n    \"longitude\": \"-87.88336350209435\",\n    \"latitude\": \"42.72010826899558\",\n    \"phone\": \"2624847553\",\n    \"website_url\": \"https://www.1ofusbrewing.com\",\n    \"state\": \"Wisconsin\",\n    \"street\": \"8100 Washington Ave\"\n  },\n  {\n    \"id\": \"ef970757-fe42-416f-931d-722451f1f59c\",\n    \"name\": \"10 Barrel Brewing Co\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"1501 E St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"San Diego\",\n    \"state_province\": \"California\",\n    \"postal_code\": \"92101-6618\",\n    \"country\": \"United States\",\n    \"longitude\": \"-117.129593\",\n    \"latitude\": \"32.714813\",\n    \"phone\": \"6195782311\",\n    \"website_url\": \"http://10barrel.com\",\n    \"state\": \"California\",\n    \"street\": \"1501 E St\"\n  },\n  {\n    \"id\": \"6d14b220-8926-4521-8d19-b98a2d6ec3db\",\n    \"name\": \"10 Barrel Brewing Co\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"62970 18th St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Bend\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97701-9847\",\n    \"country\": \"United States\",\n    \"longitude\": \"-121.281706\",\n    \"latitude\": \"44.08683531\",\n    \"phone\": \"5415851007\",\n    \"website_url\": \"http://www.10barrel.com\",\n    \"state\": \"Oregon\",\n    \"street\": \"62970 18th St\"\n  },\n  {\n    \"id\": \"e2e78bd8-80ff-4a61-a65c-3bfbd9d76ce2\",\n    \"name\": \"10 Barrel Brewing Co\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"1135 NW Galveston Ave Ste B\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Bend\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97703-2465\",\n    \"country\": \"United States\",\n    \"longitude\": \"-121.3288021\",\n    \"latitude\": \"44.0575649\",\n    \"phone\": \"5415851007\",\n    \"website_url\": null,\n    \"state\": \"Oregon\",\n    \"street\": \"1135 NW Galveston Ave Ste B\"\n  },\n  {\n    \"id\": \"e432899b-7f58-455f-9c7b-9a6e2130a1e0\",\n    \"name\": \"10 Barrel Brewing Co\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"1411 NW Flanders St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Portland\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97209-2620\",\n    \"country\": \"United States\",\n    \"longitude\": \"-122.6855056\",\n    \"latitude\": \"45.5259786\",\n    \"phone\": \"5032241700\",\n    \"website_url\": \"http://www.10barrel.com\",\n    \"state\": \"Oregon\",\n    \"street\": \"1411 NW Flanders St\"\n  },\n  {\n    \"id\": \"9f1852da-c312-42da-9a31-097bac81c4c0\",\n    \"name\": \"10 Barrel Brewing Co - Bend Pub\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"62950 NE 18th St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Bend\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97701\",\n    \"country\": \"United States\",\n    \"longitude\": \"-121.2809536\",\n    \"latitude\": \"44.0912109\",\n    \"phone\": \"5415851007\",\n    \"website_url\": null,\n    \"state\": \"Oregon\",\n    \"street\": \"62950 NE 18th St\"\n  },\n  {\n    \"id\": \"ea4f30c0-bce6-416b-8904-fab4055a7362\",\n    \"name\": \"10 Barrel Brewing Co - Boise\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"826 W Bannock St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Boise\",\n    \"state_province\": \"Idaho\",\n    \"postal_code\": \"83702-5857\",\n    \"country\": \"United States\",\n    \"longitude\": \"-116.202929\",\n    \"latitude\": \"43.618516\",\n    \"phone\": \"2083445870\",\n    \"website_url\": \"http://www.10barrel.com\",\n    \"state\": \"Idaho\",\n    \"street\": \"826 W Bannock St\"\n  },\n  {\n    \"id\": \"1988eb86-f0a2-4674-ba04-02454efa0d31\",\n    \"name\": \"10 Barrel Brewing Co - Denver\",\n    \"brewery_type\": \"large\",\n    \"address_1\": \"2620 Walnut St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Denver\",\n    \"state_province\": \"Colorado\",\n    \"postal_code\": \"80205-2231\",\n    \"country\": \"United States\",\n    \"longitude\": \"-104.9853655\",\n    \"latitude\": \"39.7592508\",\n    \"phone\": \"7205738992\",\n    \"website_url\": null,\n    \"state\": \"Colorado\",\n    \"street\": \"2620 Walnut St\"\n  },\n  {\n    \"id\": \"1ecc330f-6275-42a5-b14e-00adbed62752\",\n    \"name\": \"10 Torr Distilling and Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"490 Mill St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Reno\",\n    \"state_province\": \"Nevada\",\n    \"postal_code\": \"89502\",\n    \"country\": \"United States\",\n    \"longitude\": \"-119.7732015\",\n    \"latitude\": \"39.5171702\",\n    \"phone\": \"7755307014\",\n    \"website_url\": \"http://www.10torr.com\",\n    \"state\": \"Nevada\",\n    \"street\": \"490 Mill St\"\n  },\n  {\n    \"id\": \"7531dbd8-afc9-4b5b-95bc-7ece7f2c0bf3\",\n    \"name\": \"10-56 Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"400 Brown Cir\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Knox\",\n    \"state_province\": \"Indiana\",\n    \"postal_code\": \"46534\",\n    \"country\": \"United States\",\n    \"longitude\": \"-86.627954\",\n    \"latitude\": \"41.289715\",\n    \"phone\": \"6308165790\",\n    \"website_url\": null,\n    \"state\": \"Indiana\",\n    \"street\": \"400 Brown Cir\"\n  },\n  {\n    \"id\": \"03118499-a3d0-4c22-860d-4529509ae095\",\n    \"name\": \"101 Brewery\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"294793 US Highway 101\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Quilcene\",\n    \"state_province\": \"Washington\",\n    \"postal_code\": \"98376-9000\",\n    \"country\": \"United States\",\n    \"longitude\": \"-122.8755823\",\n    \"latitude\": \"47.82347577\",\n    \"phone\": \"3607656485\",\n    \"website_url\": \"http://www.101brewery.com\",\n    \"state\": \"Washington\",\n    \"street\": \"294793 US Highway 101\"\n  },\n  {\n    \"id\": \"5ae467af-66dc-4d7f-8839-44228f89b596\",\n    \"name\": \"101 North Brewing Company\",\n    \"brewery_type\": \"closed\",\n    \"address_1\": \"1304 Scott St Ste D\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Petaluma\",\n    \"state_province\": \"California\",\n    \"postal_code\": \"94954-7100\",\n    \"country\": \"United States\",\n    \"longitude\": \"-122.665055\",\n    \"latitude\": \"38.27029381\",\n    \"phone\": \"7077534934\",\n    \"website_url\": \"http://www.101northbeer.com\",\n    \"state\": \"California\",\n    \"street\": \"1304 Scott St Ste D\"\n  },\n  {\n    \"id\": \"4ffda196-dd59-44a5-9eeb-5f7fd4b58f5a\",\n    \"name\": \"105 West Brewing Co\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"1043 Park St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Castle Rock\",\n    \"state_province\": \"Colorado\",\n    \"postal_code\": \"80109-1585\",\n    \"country\": \"United States\",\n    \"longitude\": \"-104.8667206\",\n    \"latitude\": \"39.38269495\",\n    \"phone\": \"3033257321\",\n    \"website_url\": \"http://www.105westbrewing.com\",\n    \"state\": \"Colorado\",\n    \"street\": \"1043 Park St\"\n  },\n  {\n    \"id\": \"42aa37d5-8384-4ffe-8c81-7c982eff0384\",\n    \"name\": \"10K Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"2005 2nd Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Anoka\",\n    \"state_province\": \"Minnesota\",\n    \"postal_code\": \"55303-2243\",\n    \"country\": \"United States\",\n    \"longitude\": \"-93.38952559\",\n    \"latitude\": \"45.19812039\",\n    \"phone\": \"7633924753\",\n    \"website_url\": \"http://10KBrew.com\",\n    \"state\": \"Minnesota\",\n    \"street\": \"2005 2nd Ave\"\n  },\n  {\n    \"id\": \"232e8f62-9afc-45f5-b4bc-582c26b5c43b\",\n    \"name\": \"10th District Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"491 Washington St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Abington\",\n    \"state_province\": \"Massachusetts\",\n    \"postal_code\": \"02351-2419\",\n    \"country\": \"United States\",\n    \"longitude\": \"-70.94594149\",\n    \"latitude\": \"42.10591754\",\n    \"phone\": \"7813071554\",\n    \"website_url\": \"http://www.10thdistrictbrewing.com\",\n    \"state\": \"Massachusetts\",\n    \"street\": \"491 Washington St\"\n  },\n  {\n    \"id\": \"08f78223-24f8-4b71-b381-ea19a5bd82df\",\n    \"name\": \"11 Below Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"6820 Bourgeois Rd\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Houston\",\n    \"state_province\": \"Texas\",\n    \"postal_code\": \"77066-3107\",\n    \"country\": \"United States\",\n    \"longitude\": \"-95.5186591\",\n    \"latitude\": \"29.9515464\",\n    \"phone\": \"2814442337\",\n    \"website_url\": \"http://www.11belowbrewing.com\",\n    \"state\": \"Texas\",\n    \"street\": \"6820 Bourgeois Rd\"\n  },\n  {\n    \"id\": \"58293321-14ae-49d7-9a7b-08436c9e63a6\",\n    \"name\": \"1188 Brewing Co\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"141 E Main St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"John Day\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97845-1210\",\n    \"country\": \"United States\",\n    \"longitude\": \"-118.9218754\",\n    \"latitude\": \"44.4146563\",\n    \"phone\": \"5415751188\",\n    \"website_url\": \"http://www.1188brewing.com\",\n    \"state\": \"Oregon\",\n    \"street\": \"141 E Main St\"\n  },\n  {\n    \"id\": \"e5f3e72a-fee2-4813-82cf-f2e53b439ae6\",\n    \"name\": \"12 Acres Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"Unnamed Street\",\n    \"address_2\": \"Clonmore\",\n    \"address_3\": null,\n    \"city\": \"Killeshin\",\n    \"state_province\": \"Laois\",\n    \"postal_code\": \"R93 X3X8\",\n    \"country\": \"Ireland\",\n    \"longitude\": \"-6.979343891\",\n    \"latitude\": \"52.84930763\",\n    \"phone\": \"353599107299\",\n    \"website_url\": \"https://12acresbrewing.ie/\",\n    \"state\": \"Laois\",\n    \"street\": \"Unnamed Street\"\n  },\n  {\n    \"id\": \"d81ff708-b5d2-478f-af6a-6d40f5beb9ac\",\n    \"name\": \"12 Gates Brewing Company\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"80 Earhart Dr Ste 20\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Williamsville\",\n    \"state_province\": \"New York\",\n    \"postal_code\": \"14221-7804\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"7169066600\",\n    \"website_url\": \"http://www.12gatesbrewing.com\",\n    \"state\": \"New York\",\n    \"street\": \"80 Earhart Dr Ste 20\"\n  },\n  {\n    \"id\": \"fb94830f-6196-4f59-9189-c9060b778085\",\n    \"name\": \"12 West Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"3000 E Ray Rd Bldg 6\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Gilbert\",\n    \"state_province\": \"Arizona\",\n    \"postal_code\": \"85296-7832\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"6023395014\",\n    \"website_url\": \"http://www.12westbrewing.com\",\n    \"state\": \"Arizona\",\n    \"street\": \"3000 E Ray Rd Bldg 6\"\n  },\n  {\n    \"id\": \"0faa0fb2-fffa-416d-9eab-46f67477c8ef\",\n    \"name\": \"12 West Brewing Company - Production Facility\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": null,\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Mesa\",\n    \"state_province\": \"Arizona\",\n    \"postal_code\": \"85207\",\n    \"country\": \"United States\",\n    \"longitude\": \"-111.5860662\",\n    \"latitude\": \"33.436188\",\n    \"phone\": null,\n    \"website_url\": null,\n    \"state\": \"Arizona\",\n    \"street\": null\n  },\n  {\n    \"id\": \"e54c2f02-acd6-4172-861d-fcfa54c8701a\",\n    \"name\": \"122 West Brewing Co\",\n    \"brewery_type\": \"closed\",\n    \"address_1\": \"2416 Meridian St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Bellingham\",\n    \"state_province\": \"Washington\",\n    \"postal_code\": \"98225-2405\",\n    \"country\": \"United States\",\n    \"longitude\": \"-122.485982\",\n    \"latitude\": \"48.7621709\",\n    \"phone\": \"3603063285\",\n    \"website_url\": \"https://www.122westbrew.com/\",\n    \"state\": \"Washington\",\n    \"street\": \"2416 Meridian St\"\n  },\n  {\n    \"id\": \"d5cb896d-3e99-4e19-9693-5e06ce987e53\",\n    \"name\": \"127 Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"3090 Shirley Dr\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Jackson\",\n    \"state_province\": \"Michigan\",\n    \"postal_code\": \"49201-7010\",\n    \"country\": \"United States\",\n    \"longitude\": \"-84.43116792\",\n    \"latitude\": \"42.28667212\",\n    \"phone\": \"5172581346\",\n    \"website_url\": null,\n    \"state\": \"Michigan\",\n    \"street\": \"3090 Shirley Dr\"\n  },\n  {\n    \"id\": \"06e9fffb-e820-45c9-b107-b52b51013e8f\",\n    \"name\": \"12Degree Brewing\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"820 Main St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Louisville\",\n    \"state_province\": \"Colorado\",\n    \"postal_code\": \"80027-1865\",\n    \"country\": \"United States\",\n    \"longitude\": \"-105.1319826\",\n    \"latitude\": \"39.9782443\",\n    \"phone\": \"3035791004\",\n    \"website_url\": \"http://www.12degree.com\",\n    \"state\": \"Colorado\",\n    \"street\": \"820 Main St\"\n  },\n  {\n    \"id\": \"50521ef7-f543-4c5d-98b1-0d0ee1a2be01\",\n    \"name\": \"12welve Eyes Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"141 E 4th St Ste LL2\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Saint Paul\",\n    \"state_province\": \"Minnesota\",\n    \"postal_code\": \"55101-1639\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"6514938106\",\n    \"website_url\": \"http://www.12welveEyes.com\",\n    \"state\": \"Minnesota\",\n    \"street\": \"141 E 4th St Ste LL2\"\n  },\n  {\n    \"id\": \"950180bd-29c9-46b3-ad0c-e6f09799ec7f\",\n    \"name\": \"13 Below Brewery\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"7391 Forbes Rd\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Cincinnati\",\n    \"state_province\": \"Ohio\",\n    \"postal_code\": \"45233-1013\",\n    \"country\": \"United States\",\n    \"longitude\": \"-84.70634815\",\n    \"latitude\": \"39.12639764\",\n    \"phone\": \"5139750613\",\n    \"website_url\": \"http://www.13belowbrewery.com\",\n    \"state\": \"Ohio\",\n    \"street\": \"7391 Forbes Rd\"\n  },\n  {\n    \"id\": \"45119c56-345b-4adc-b481-c5cf7bfe98c4\",\n    \"name\": \"13 Stripes Brewery\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"250 Mill St, Suite PW3101\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Taylors\",\n    \"state_province\": \"South Carolina\",\n    \"postal_code\": \"29687\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"8643491430\",\n    \"website_url\": \"http://www.13StripesBrewery.com\",\n    \"state\": \"South Carolina\",\n    \"street\": \"250 Mill St, Suite PW3101\"\n  },\n  {\n    \"id\": \"936c3d7e-5d54-4459-b72c-117cdda059b4\",\n    \"name\": \"13 Virtues Brewing Co\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"6410 SE Milwaukie Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Portland\",\n    \"state_province\": \"Oregon\",\n    \"postal_code\": \"97202-5518\",\n    \"country\": \"United States\",\n    \"longitude\": \"-122.6487531\",\n    \"latitude\": \"45.4762536\",\n    \"phone\": \"5032393831\",\n    \"website_url\": \"http://www.13virtuesbrewing.com\",\n    \"state\": \"Oregon\",\n    \"street\": \"6410 SE Milwaukie Ave\"\n  },\n  {\n    \"id\": \"5c53b314-ebab-4e3e-89be-e4139d9318ae\",\n    \"name\": \"1323 R \\u0026 D\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"1323 Capital Blvd 1323 R and D\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Raleigh\",\n    \"state_province\": \"North Carolina\",\n    \"postal_code\": \"27603-1117\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"9199775654\",\n    \"website_url\": \"http://www.1323rnd.com\",\n    \"state\": \"North Carolina\",\n    \"street\": \"1323 Capital Blvd 1323 R and D\"\n  },\n  {\n    \"id\": \"4788221a-a03b-458c-9084-4cadd69ade6d\",\n    \"name\": \"14 Cannons Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"31125 Via Colinas Ste 907\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Westlake Village\",\n    \"state_province\": \"California\",\n    \"postal_code\": \"91362-3974\",\n    \"country\": \"United States\",\n    \"longitude\": \"-118.802397\",\n    \"latitude\": \"34.15334\",\n    \"phone\": \"8186996165\",\n    \"website_url\": \"http://14cannons.com\",\n    \"state\": \"California\",\n    \"street\": \"31125 Via Colinas Ste 907\"\n  },\n  {\n    \"id\": \"b7b68d22-5045-4501-b9bf-ec94946eaffc\",\n    \"name\": \"14 Lakes Brewery\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": null,\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Crosslake\",\n    \"state_province\": \"Minnesota\",\n    \"postal_code\": \"56442\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"2186924129\",\n    \"website_url\": null,\n    \"state\": \"Minnesota\",\n    \"street\": null\n  },\n  {\n    \"id\": \"4b677b60-fef1-42e2-90ef-dadc1bd7fb06\",\n    \"name\": \"14er Brewing Company\",\n    \"brewery_type\": \"proprietor\",\n    \"address_1\": \"2801 Walnut St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Denver\",\n    \"state_province\": \"Colorado\",\n    \"postal_code\": \"80205-2235\",\n    \"country\": \"United States\",\n    \"longitude\": \"-104.9839636\",\n    \"latitude\": \"39.7614112\",\n    \"phone\": \"7207731437\",\n    \"website_url\": \"http://www.14erBrewing.com\",\n    \"state\": \"Colorado\",\n    \"street\": \"2801 Walnut St\"\n  },\n  {\n    \"id\": \"6c53984f-fac1-4ea7-9c44-44e25897c71a\",\n    \"name\": \"14th Star Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"133 N Main St Ste 7\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Saint Albans\",\n    \"state_province\": \"Vermont\",\n    \"postal_code\": \"05478-1735\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"8025285988\",\n    \"website_url\": \"http://www.14thstarbrewing.com\",\n    \"state\": \"Vermont\",\n    \"street\": \"133 N Main St Ste 7\"\n  },\n  {\n    \"id\": \"85192a9c-58a4-48c3-bd9d-496d09d22aa3\",\n    \"name\": \"16 Lots Brewing\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"753 Reading Rd\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Mason\",\n    \"state_province\": \"Ohio\",\n    \"postal_code\": \"45040-1303\",\n    \"country\": \"United States\",\n    \"longitude\": \"-84.3183801\",\n    \"latitude\": \"39.3545967\",\n    \"phone\": \"5134863672\",\n    \"website_url\": \"http://www.16lots.com\",\n    \"state\": \"Ohio\",\n    \"street\": \"753 Reading Rd\"\n  },\n  {\n    \"id\": \"284b44f8-6ccb-4cd6-8d06-f2ad882a47c3\",\n    \"name\": \"16 Mile Brewing Co\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"413 S Bedford St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Georgetown\",\n    \"state_province\": \"Delaware\",\n    \"postal_code\": \"19947-1849\",\n    \"country\": \"United States\",\n    \"longitude\": \"-75.37816436\",\n    \"latitude\": \"38.6788938\",\n    \"phone\": \"3022538816\",\n    \"website_url\": \"http://www.16milebrewery.com\",\n    \"state\": \"Delaware\",\n    \"street\": \"413 S Bedford St\"\n  },\n  {\n    \"id\": \"ee6d39c6-092f-4623-8099-5b8643f70dbe\",\n    \"name\": \"16 Stone Brewpub\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"9542 Main St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Holland Patent\",\n    \"state_province\": \"New York\",\n    \"postal_code\": \"13354\",\n    \"country\": \"United States\",\n    \"longitude\": \"-75.2565195\",\n    \"latitude\": \"43.24211175\",\n    \"phone\": \"3158658500\",\n    \"website_url\": \"http://www.16stonebrewpub.com\",\n    \"state\": \"New York\",\n    \"street\": \"9542 Main St\"\n  },\n  {\n    \"id\": \"d35b40b0-a3ff-4878-a6ee-9caa2149b521\",\n    \"name\": \"1623 Brewing CO, llc\",\n    \"brewery_type\": \"contract\",\n    \"address_1\": \"1146 colonel Joshua Ct\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Westminister\",\n    \"state_province\": \"Maryland\",\n    \"postal_code\": \"21157\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": null,\n    \"website_url\": null,\n    \"state\": \"Maryland\",\n    \"street\": \"1146 colonel Joshua Ct\"\n  },\n  {\n    \"id\": \"84bd3b3c-bd2d-4e07-bc31-b43a8c8ebf4c\",\n    \"name\": \"1717 Brewing Co\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"322 E Court Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Des Moines\",\n    \"state_province\": \"Iowa\",\n    \"postal_code\": \"50309-2015\",\n    \"country\": \"United States\",\n    \"longitude\": \"-93.6120353\",\n    \"latitude\": \"41.5872267\",\n    \"phone\": \"5152437868\",\n    \"website_url\": \"http://1717brewing.com\",\n    \"state\": \"Iowa\",\n    \"street\": \"322 E Court Ave\"\n  },\n  {\n    \"id\": \"f41a0c47-ba9b-4547-bfed-fcbefe0fc74b\",\n    \"name\": \"1718 Ocracoke Brewing\",\n    \"brewery_type\": \"brewpub\",\n    \"address_1\": \"1129 Irvin Garrish Hwy\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Ocracoke\",\n    \"state_province\": \"North Carolina\",\n    \"postal_code\": \"27960\",\n    \"country\": \"United States\",\n    \"longitude\": \"-75.97176063\",\n    \"latitude\": \"35.10715368\",\n    \"phone\": \"2529282337\",\n    \"website_url\": \"http://www.ocracokebrewing.com\",\n    \"state\": \"North Carolina\",\n    \"street\": \"1129 Irvin Garrish Hwy\"\n  },\n  {\n    \"id\": \"84d621c4-81a5-44e6-aca7-1566c2e67cc0\",\n    \"name\": \"1781 Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"11109 Plank Rd\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Spotsylvania\",\n    \"state_province\": \"Virginia\",\n    \"postal_code\": \"22553-4258\",\n    \"country\": \"United States\",\n    \"longitude\": null,\n    \"latitude\": null,\n    \"phone\": \"5408412598\",\n    \"website_url\": null,\n    \"state\": \"Virginia\",\n    \"street\": \"11109 Plank Rd\"\n  },\n  {\n    \"id\": \"896f26a1-d80e-4790-9287-026a86c1799d\",\n    \"name\": \"180 and Tapped\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"2010 A State Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Coraopolis\",\n    \"state_province\": \"Pennsylvania\",\n    \"postal_code\": \"15108\",\n    \"country\": \"United States\",\n    \"longitude\": \"-80.15020356\",\n    \"latitude\": \"40.50984957\",\n    \"phone\": \"4127375273\",\n    \"website_url\": \"http://www.180andtapped.com\",\n    \"state\": \"Pennsylvania\",\n    \"street\": \"2010 A State Ave\"\n  },\n  {\n    \"id\": \"46839a79-b7bf-4733-b91b-ce116d062a57\",\n    \"name\": \"1817 Brewery\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"100 B South Olive St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"okolona\",\n    \"state_province\": \"Mississippi\",\n    \"postal_code\": \"38860\",\n    \"country\": \"United States\",\n    \"longitude\": \"-88.750264\",\n    \"latitude\": \"34.001703\",\n    \"phone\": \"6623055907\",\n    \"website_url\": null,\n    \"state\": \"Mississippi\",\n    \"street\": \"100 B South Olive St\"\n  },\n  {\n    \"id\": \"1a1b2165-73ed-40aa-b89b-56794d140f22\",\n    \"name\": \"1840 Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"342 E Ward St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Milwaukee\",\n    \"state_province\": \"Wisconsin\",\n    \"postal_code\": \"53207-1348\",\n    \"country\": \"United States\",\n    \"longitude\": \"-87.90606942\",\n    \"latitude\": \"43.00436242\",\n    \"phone\": \"4142364056\",\n    \"website_url\": \"http://www.1840brewing.com\",\n    \"state\": \"Wisconsin\",\n    \"street\": \"342 E Ward St\"\n  },\n  {\n    \"id\": \"fe6b9893-b93e-43d5-a9f6-3e0c89a3f13c\",\n    \"name\": \"1850 Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": null,\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Mariposa\",\n    \"state_province\": \"California\",\n    \"postal_code\": \"95338\",\n    \"country\": \"United States\",\n    \"longitude\": \"-119.9036592\",\n    \"latitude\": \"37.570148\",\n    \"phone\": null,\n    \"website_url\": \"http://www.1850restaurant.com\",\n    \"state\": \"California\",\n    \"street\": null\n  },\n  {\n    \"id\": \"b51f3cdf-60ff-4ae1-94a7-76906c7d62eb\",\n    \"name\": \"18th Street Brewery\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"5725 Miller Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Gary\",\n    \"state_province\": \"Indiana\",\n    \"postal_code\": \"46403-2871\",\n    \"country\": \"United States\",\n    \"longitude\": \"-87.26887786\",\n    \"latitude\": \"41.59928343\",\n    \"phone\": null,\n    \"website_url\": \"http://www.18thstreetbrewery.com\",\n    \"state\": \"Indiana\",\n    \"street\": \"5725 Miller Ave\"\n  },\n  {\n    \"id\": \"add7f978-942e-4d56-b209-c80837a51d69\",\n    \"name\": \"18th Street Brewery\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"5417 Oakley Ave\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Hammond\",\n    \"state_province\": \"Indiana\",\n    \"postal_code\": \"46320-1817\",\n    \"country\": \"United States\",\n    \"longitude\": \"-87.517422\",\n    \"latitude\": \"41.61556796\",\n    \"phone\": null,\n    \"website_url\": null,\n    \"state\": \"Indiana\",\n    \"street\": \"5417 Oakley Ave\"\n  },\n  {\n    \"id\": \"dbde8235-2b55-4d8b-8b1c-438155abe104\",\n    \"name\": \"1905 Brewing Company\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"1301 S Chestnut St\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Assumption\",\n    \"state_province\": \"Illinois\",\n    \"postal_code\": \"62510-8504\",\n    \"country\": \"United States\",\n    \"longitude\": \"-89.0503635\",\n    \"latitude\": \"39.5172564\",\n    \"phone\": \"2172549374\",\n    \"website_url\": \"http://1905BrewingCompany.com\",\n    \"state\": \"Illinois\",\n    \"street\": \"1301 S Chestnut St\"\n  },\n  {\n    \"id\": \"4f4b5b34-d572-4dff-a18f-47e507c073e6\",\n    \"name\": \"1912 Brewing\",\n    \"brewery_type\": \"micro\",\n    \"address_1\": \"2045 N Forbes Blvd Ste 105\",\n    \"address_2\": null,\n    \"address_3\": null,\n    \"city\": \"Tucson\",\n    \"state_province\": \"Arizona\",\n    \"postal_code\": \"85745-1444\",\n    \"country\": \"United States\",\n    \"longitude\": \"-110.9927505\",\n    \"latitude\": \"32.24673727\",\n    \"phone\": \"5202564851\",\n    \"website_url\": \"http://www.1912brewing.com\",\n    \"state\": \"Arizona\",\n    \"street\": \"2045 N Forbes Blvd Ste 105\"\n  }\n]"));

        _mockListBreweriesRequest.Setup(x => x.SendAsync(It.IsAny<DTOs.ListBreweriesInput>()))
            .ReturnsAsync(mockResponse);

        // Act
        await _breweryService.LoadBreweries();

        // Assert
        var breweriesList = _breweryService.GetBreweriesList;
        Assert.IsNotNull(breweriesList);
    }

    [TestMethod]
    public void GetBrewerySelected_ShouldReturnSelectedBrewery()
    {
        // Arrange
        var brewery = new DTOs.Brewery { Name = "Brewery" };
        typeof(BreweryService).GetField("_brewerySelected", System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance)?.SetValue(_breweryService, brewery);

        // Act
        var selectedBrewery = _breweryService.GetBrewerySelected;

        // Assert
        Assert.IsNotNull(selectedBrewery);
        Assert.AreEqual("Brewery", selectedBrewery.Name);
    }
}